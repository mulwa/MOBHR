<ngx-spinner>
  <p class="heading">Updating Employees details...</p>
</ngx-spinner>
<div class="row" *ngIf="!employeeDetails?.emp_has_contract">
  <div class="col-md-12">
    <button
      class="btn btn-primary"
      [routerLink]="['/new-contract', employeeDetails?.id]"
    >
      Issue Contract
    </button>
  </div>
</div>
<div class="row">
  <div class="col-md-4">
    <div class="card card-user">
      <div class="image">
        <img src="assets/img/damir-bosnjak.jpg" alt="..." />
      </div>
      <div class="card-body">
        <div class="author">
          <a href="#">
            <img
              class="avatar border-gray"
              src="http://165.227.93.39/media/employee/photos/images_4.jpeg"
              alt="profile here"
            />
            <h5 class="title">{{ employeeDetails?.first_name }}</h5>
          </a>
          <p class="description">
            {{ employeeDetails?.email }}
          </p>
        </div>
        <h4 class="description text-center">
          {{ employeeDetails?.contact }}
        </h4>
      </div>
      <div class="card-footer" *ngIf="employeeDetails?.emp_has_contract">
        <hr />
        <div class="button-container">
          <div class="row">
            <div class="col-lg-6 col-md-6 col-6 ml-auto">
              <h5>
                {{ contractDetails[0]?.salary | currency: "Ksh" }}
                <br />
                <small>Salary</small>
              </h5>
            </div>
            <div class="col-lg-6 col-md-6 col-6 ml-auto mr-auto">
              <h5>
                {{ contractDetails[0]?.position_name }}
                <br />
                <small>Position</small>
              </h5>
            </div>
          </div>
          <hr />
          <div class="row">
            <div class="col-lg-6 col-md-6 col-6 ml-auto">
              <h5>
                {{ contractDetails[0]?.start_date }}
                <br />
                <small>Contract Start Date</small>
              </h5>
            </div>
            <div class="col-lg-6 col-md-6 col-6 ml-auto mr-auto">
              <h5>
                {{ contractDetails[0]?.expiry_date }}
                <br />
                <small>Contract Expiry Date</small>
              </h5>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="card">
      <div class="card-header">
        <p class="card-title">Property Assigned</p>
      </div>
      <div class="card-body" *ngIf="employeeAsset?.length > 0">
        <ul class="list-group">
          <li class="list-group-item" *ngFor="let asset of employeeAsset">
            <div class="row">
              <div class="col-md-6 ml-auto">
                {{ asset?.prop_name }}
              </div>
              <div class="col-md-6 ml-auto mr-auto">
                {{ asset?.property_name }}
              </div>
            </div>
          </li>
        </ul>
      </div>
      <p *ngIf="employeeAsset?.length == 0" class="alert-text">
        No Asset is assigned to this Employee
      </p>
    </div>
  </div>

  <div class="col-md-8">
    <div class="card card-user">
      <div class="card-header">
        <div class="row">
          <div class="col-md-8">
            <h5 class="card-title">
              Employee {{ employeeDetails?.emp_id }} Details
            </h5>
          </div>
          <div class="col-md-4 ml-auto ">
            <button class="btn btn-warning" (click)="editMode()">
              <span *ngIf="inputEditMode">Edit Details</span>
              <span *ngIf="!inputEditMode">Cancel Edit</span>
            </button>
          </div>
        </div>
      </div>
      <div class="card-body">
        <form [formGroup]="employeeForm">
          <div class="row">
            <div class="col-md-4 pr-1">
              <div class="form-group">
                <label>First Name</label>
                <input
                  type="text"
                  class="form-control"
                  formControlName="first_name"
                />
              </div>
            </div>
            <div class="col-md-4 px-1">
              <div class="form-group">
                <label>Last Name</label>
                <input
                  type="text"
                  formControlName="last_name"
                  class="form-control"
                />
              </div>
            </div>
            <div class="col-md-4 pl-1">
              <div class="form-group">
                <label for="exampleInputEmail1">ID Number</label>
                <input
                  type="text"
                  formControlName="id_number"
                  class="form-control"
                />
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col-md-4 pr-1">
              <div class="form-group">
                <label>Employee Email</label>
                <input
                  type="text"
                  formControlName="email"
                  class="form-control"
                />
              </div>
            </div>
            <div class="col-md-4 pl-1">
              <div class="form-group">
                <label>Mobile Number</label>
                <input
                  type="text"
                  class="form-control"
                  formControlName="contact"
                />
              </div>
            </div>
            <div class="col-md-4 pl-1">
              <div class="form-group">
                <label>Place Of Work</label>
                <input type="text" class="form-control" formControlName="place_of_work"/>
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col-md-4">
              <div class="form-group">
                <label>Address</label>
                <input
                  type="text"
                  class="form-control"
                  formControlName="address"
                />
              </div>
            </div>
            <div class="col-md-4">
              <div class="form-group">
                <label>Date Of Birth</label>
                <input type="text" class="form-control" formControlName="dob" />
              </div>
            </div>
            <div class="col-md-4">
              <div class="form-group">
                <label>Gender</label>
                <select class="form-control" formControlName="gender">
                  <option value="Male">Male</option>
                  <option value="Female">Female</option>
                </select>
              </div>
            </div>
          </div>

          <div class="row">
            <div class="col-md-4 pr-1">
              <div class="form-group">
                <label>Nationality</label>
                <input
                  type="text"
                  formControlName="nationality"
                  class="form-control"
                />
              </div>
            </div>
            <div class="col-md-4 px-1">
              <div class="form-group">
                <label>Marital Status</label>
                <select
                  class="form-control"
                  id=""
                  formControlName="marital_status"
                >
                  <option value="single">Single</option>
                  <option value="married">Married</option>
                  <option value="widowed">Widowed</option>
                  <option value="divorced">Divorced</option>
                  <option value="separated">Separated</option>
                </select>
              </div>
            </div>
            <div class="col-md-4">
              <div class="form-group">
                <label>Address</label>
                <input
                  type="text"
                  class="form-control"
                  formControlName="address"
                  value="{{ employeeDetails?.address }}"
                />
              </div>
            </div>
          </div>
          <hr />
          <div class="row">
            <div class="col-md-4 pr-1">
              <div class="form-group">
                <label>Bank Name</label>
                <input
                  type="text"
                  class="form-control"
                  formControlName="bank_name"
                />
              </div>
            </div>
            <div class="col-md-4 px-1">
              <div class="form-group">
                <label>Bank Branch</label>
                <input
                  type="text"
                  class="form-control"
                  formControlName="bank_branch"
                />
              </div>
            </div>
            <div class="col-md-4">
              <div class="form-group">
                <label>Bank Account Number</label>
                <input
                  type="text"
                  class="form-control"
                  formControlName="bank_account"
                />
              </div>
            </div>
          </div>
          <hr />
          <div class="row">
            <div class="col-md-4 pr-1">
              <div class="form-group">
                <label>KRA PIN</label>
                <input
                  type="text"
                  class="form-control"
                  formControlName="kra_pin"
                />
              </div>
            </div>
            <div class="col-md-4 px-1">
              <div class="form-group">
                <label>NHIF Number</label>
                <input
                  type="text"
                  class="form-control"
                  formControlName="nhif_number"
                />
              </div>
            </div>
            <div class="col-md-4">
              <div class="form-group">
                <label>NSSF Number</label>
                <input
                  type="text"
                  class="form-control"
                  formControlName="nssf_number"
                />
              </div>
            </div>
          </div>
          <div class="row" *ngIf="!inputEditMode">
            <div class="col-md-6">
              <button
                type="submit"
                class="btn btn-primary"
                (click)="onUpdate()"
              >
                Update Profile
              </button>
              <button
                type="submit"
                class="btn btn-primary"
                (click)="onCancleEdit()"
              >
                Cancel
              </button>
            </div>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>
